---
import { getCollection } from "astro:content";
import Layout from "../../../layouts/Layout.astro";

const pageTitle = "My Astro Learning Blog";
const posts = await getCollection("blog");

const enPosts = posts.filter(
  (post) => post.id.startsWith("en/") && post.data.draft !== true
);
---

<Layout title={pageTitle} description={pageTitle}>
  <main class="mt-40 px-4 w-full md:w-[70%] mx-auto">
    <ul>
      {
        enPosts.map((post) => {
          const slugClean = post.slug.replace(/^en\//, "");
          return (
            <li>
              <a href={`/en/blog/${slugClean}`}>{post.data.title}</a>
            </li>
          );
        })
      }
    </ul>
  </main>
</Layout>
