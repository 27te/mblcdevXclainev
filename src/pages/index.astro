---
import Layout from "../layouts/Layout.astro";
import Hero from "../sections/Hero.astro";
import Works from "../sections/Works.astro";
import SectionHeader from "../components/ui/SectionHeader.astro";
import Services from "../sections/Services.astro";
import Faq from "../sections/Faq.astro";
import Contact from "../sections/Contact.astro";
import Products from "../sections/Products.astro";
import { getLangFromUrl } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const faq = await import(`../data/faq.${lang}.json`);
const services = await import(`../data/service.${lang}.json`);
---

<Layout title="Desarrollo web a medida | Mblcdev">
  <Hero />
  <main class="max-w-[90ch] mx-auto">
    <section class="container mx-auto px-4 mt-10">
      <SectionHeader title="Trabajos Recientes">
        <span
          class="absolute top-5 left-[60%] rotate-6 font-nanum text-2xl font-medium text-tertiary"
        >
          Año {new Date().getFullYear()}
        </span>
      </SectionHeader>
      <div class="space-y-20">
        <Works
          title="Mad Exhibitions"
          area="Arte y Música"
          time="1 semana"
          views="280"
          desktop="/madexhibition-desktop.png"
        />
        <Works
          title="Mad Royer"
          area="Arte"
          time="1 semana"
          views="1k"
          desktop="/madroyer-desktop.png"
        />
      </div>
    </section>
    <section class="px-4 mt-20">
      <SectionHeader title="Productos">
        <span
          class="absolute top-5 left-[60%] rotate-6 font-nanum text-2xl font-medium text-tertiary"
        >
          Crecimiento
        </span>
      </SectionHeader>
      <Products />
    </section>
    <section class="px-4 mt-20 scroll-my-24" id="services">
      <SectionHeader title="Servicios">
        <span
          class="absolute top-5 left-[60%] rotate-6 font-nanum text-2xl font-medium text-tertiary"
        >
          Vamos, joder
        </span>
      </SectionHeader>
      <Services item={services.default} />
    </section>
    <section class="container mx-auto px-4 mt-20">
      <SectionHeader title="Preguntas Frecuentes">
        <span
          class="absolute top-5 left-[60%] rotate-6 font-nanum text-2xl font-medium text-tertiary"
        >
          como empezamos
        </span>
      </SectionHeader>
      <Faq item={faq.default} />
    </section>
    <section class="container mx-auto px-4 mt-20">
      <SectionHeader title="Trabajemos Juntos">
        <span
          class="absolute top-5 left-[60%] rotate-6 font-nanum text-2xl font-medium text-tertiary"
        >
          contactar ahora
        </span>
      </SectionHeader>
      <Contact />
    </section>
  </main>
</Layout>
